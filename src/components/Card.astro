---
const { project } = Astro.props;
const { title, description, tags, thumbnail, link, codeLink, stats } = project;
const { pageSpeedInsights } = stats;
---

<div
  class="wait item rounded bg-[rgba(0,0,0,0.39)] border border-[#252726] hover:border-[#c1c1c1] transition ease-in-out delay-150 duration-300 tracking-tight"
>
  <div class="flex flex-col">
    <div class="hover:cursor-pointer border-b-[#252726] border-b">
      <a href={link} target="_blank" rel="noopener noreferrer">
        <img
          class="object-cover w-full h-32 rounded-t"
          src={thumbnail}
          alt={title}
        />
      </a>
    </div>

    <div class="px-6 py-3">
      <span class="text-lg font-semibold text-white">{title}</span>
      <div class="my-2">
        {
          tags.map((tag: unknown) => (
            <span class="text-white bg-black font-semibold text-[12px] border-[#252726] border rounded-full p-1 px-2 mr-2">
              {tag}
            </span>
          ))
        }
      </div>

      <p class="[font-size:15px] text-gray mb-2 min-h-[40px]">
        {description}
      </p>
      <a
        title="View PageSpeed Insights"
        class="flex items-center mb-3 transition-colors duration-300 hover:text-blue"
        href={`https://pagespeed.web.dev/report?url=${link}`}
        target="_blank"
        rel="noopener noreferrer"
      >
        <small class="block mr-1 font-mono"
          >PageSpeed Insights: <span class="">{pageSpeedInsights}</span>
        </small>
      </a>
      <div class="flex flex-row items-center justify-center mb-2">
        <a
          title="View Project"
          href={link}
          target="_blank"
          rel="noopener noreferrer"
          class="mr-4"
        >
          <div
            class="text-white font-semibold text-xs border-[#3b3d40c2] border rounded w-30 text-center p-2 hover:border-white hover:text-black transition duration-700 hover:bg-white flex flex-row"
          >
            <svg
              stroke="currentColor"
              fill="currentColor"
              stroke-width="0"
              viewBox="0 0 512 512"
              class="w-4 h-4 mr-2"
              height="1em"
              width="1em"
              xmlns="http://www.w3.org/2000/svg"
              ><path
                d="M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"
              ></path>
            </svg>
            Deploy
          </div>
        </a>
        <a
          title="View Code"
          href={codeLink}
          target="_blank"
          rel="noopener noreferrer"
        >
          <div
            class="text-white font-semibold text-xs border-[#3b3d40c2] border rounded w-30 text-center p-2 hover:border-blue hover:text-white transition duration-700 flex flex-row"
          >
            <svg
              class="self-center w-4 h-4 mr-2"
              style="transition: 0.1s;"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 16 16"
              width="30"
              height="30"
            >
              <path
                fill="currentColor"
                fill-rule="evenodd"
                d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"
              >
              </path>
            </svg>
            View code
          </div>
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  .item {
    transition: 0.3s;
  }

  .wait {
    opacity: 0;
  }

  .show {
    opacity: 1;
    animation: 1000ms ease 100ms 1 normal backwards running tres;
  }

  @keyframes tres {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }
    100% {
      opacity: 1;
      transform: none;
    }
  }
</style>
